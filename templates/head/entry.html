{% extends 'base.html' %}
{% load static %}
{% load bookFilters %}

{% block extras %}
{% endblock %}


{% block css %}
<link href="{% static 'css/entry.css' %}" rel="stylesheet">
{% endblock %}

{% block pre-js-internal %}
// the variables here should come before teh js/entry.js script
{% autoescape off %}
var cols_table = {{ columns_table_json }}
var cols_entry = {{ columns_entry_json }}
var clear_fields ={{ clear_fields }}
{% endautoescape %}
var total_cols_table = cols_table.length
var total_cols_entry = cols_entry.length
var max_accession_number = parseInt("{{ largest_accession_number }}", 10);
var language = "EN";
{% endblock %}
<!-- The bootstrap and Jquery libraries will be in the middle, here -->

{% block post-js-external %}
<script src="{% static 'js/entry-move.js' %}"></script>
<script src="{% static 'js/entry.js' %}"></script>
{% endblock %}



{% block jumbotron %}
{% endblock %}


{% block content %}
<div class="container-fluid">
  <div class="container-fluid">
    <div class="col col-sm-8">
      <h3><span class="text-hades">HADES</span> - <span class="text-hades">H</span>ere's <span class="text-hades">A</span>nother <span class="text-hades">D</span>ata <span class="text-hades">E</span>ntry <span class="text-hades">S</span>ystem</h3>
    </div>
    <div class="col col-sm-4" style="padding-top:1%;">
      <span class="text-info">
        <h5><i>Current accession number count: <span class="current_acc_no">{{ largest_accession_number }}</span></i></h5>
      </span>
    </div>
  </div>
  <br>
  <div class="container-fluid">
    <div class="col col-sm-12">
      <div class="btn-group">
        <div class="dropdown">
          <a href="#" class="btn btn-info btn-menu dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Select Language<span class="caret"></span></a>
          <ul class="dropdown-menu">
            <li><a id="EN" href="#" onclick="changeLang('EN')">English</a></li>
            <li><a id="NP" href="#" onclick="changeLang('NP')">Nepali</a></li>
          </ul>
          <button class="btn btn-info btn-menu" onclick="clearInputFields()">Clear Fields</button>
          {% if book != None %}
          <a class="btn btn-info btn-menu" href="{% url 'book' accNo=book.accession_number%}">Read Book Data</a>
          {% endif %}
          <button class="btn btn-success btn-menu" id="saveBook">Save Book</button>
        </div> <!-- button group -->
      </div>
    </div>
    <hr/>
  </div>
  
  <div id="dataEntrySuccessful" class="well">
    Book Was Saved :D
  </div>


  <br> 
  {% csrf_token %}
  <div class="container">
    {% for each in columns_for_entry_div %}
    <div class="col col-sm-6">
      {% if each.0 != None %}
      <div class="form-group">
        <label>{{ each.0.1.0 }}</label>
        <font id="input-font" face=''>
          <input type="text" id="{{ each.0.0 }}" mid="{{ each.0.1.2  }}" style="width:100%;" name="{{ each.0.1.0 }}" value="{{ book|getBookValue:each.0.1.2 }}"  placeholder="{{ each.0.1.0 }}" class="form-control input input-{{ each.0.1.2 }}" required {% if each.0.0 == 1 %} autofocus {% endif %} spellcheck="true">
        </font>
      </div>
      {% endif %}
    </div>
    {% if each.1 != None %}
    <div class="col col-sm-6">
      <div class="form-group">
        <label>{{ each.1.1.0 }}</label>
        <font id="input-font" face=''>
          <input type="text" id="{{ each.1.0 }}" mid="{{each.1.1.2  }}" style="width:100%"  name="{{ each.1.1.0 }}" value="{{ book|getBookValue:each.1.1.2 }}" placeholder="{{ each.1.1.0 }}" class="form-control input input-{{ each.1.1.2 }}" required {% if each.1.0 == 1 %} autofocus {% endif %} spellcheck="true">
        </font>
      </div>
    </div>
    {% endif %}
    {% endfor %}
  </div>
  {% endblock %}
