{% extends 'base.html' %}
{% load static %}
{% load nepali %}


{% block css %}
<link href="{% static 'css/search_books.css' %}" rel="stylesheet">
{% endblock %}

{% block post-js %}
{% endblock %}

{% block content %}
<div class="container-fluid search-results">
  {% if not_found == False %}
  <ul class="pagination">
    {% for each in book_pages %}
    <li {% if each == books.number %} class="active" {% endif%}><a href="?search={{value}}&type={{type}}&page={{ each }}">{{ each }}</a></li>
    {% endfor %}
  </ul>
</div>
<div class="alert alert-info"<h2> Search results for <span class="label label-primary">{{ type|lower }}</span> containing <span class="label label-md label-primary">{{ value }}</span> found <span class="badge"> {{ books|length }}</span> results </h2></div>
<table class="table table-bordered table-hover">
  <tbody>
  {% for book in books %}
  <tr>
    <div class="well book">
      <div class="book_prop title">
        <a href="{% url 'book' book.accession_number %}"> <span class="glyphicon glyphicon-book text-primary"></span> {{book.get_title}}</a>
      </div> <!-- title div -->
      <div class="book_prop authors">
        {{ globals.text.authors }}<i> {{book.get_pretty_authors}}</i>
      </div> <!-- authors div -->
      <div class="book_prop keywords">
        {{ globals.text.keywords}} :<i> {{book.get_pretty_keywords}}</i>
      </div> <!-- keywords div -->
      <div class="book_prop publishers">
        {{ globals.text.published_by }} <i> {{book.get_pretty_publishers}}</i>
      </div> <!-- publishers div -->
      <div class="misc">
        <div class="book_prop col col-sm-3 accession_number">
          {{ globals.text.accession_number }} : {{book.accession_number|no_to_np}}
        </div> <!-- accession number div -->
        <div class="book_prop col col-sm-3 call_number">
          {{ globals.text.call_number }} : {{book.get_call_number}}
        </div> <!-- call_number div -->
        <div class="book_prop col col-sm-3 series">
          {{ globals.text.series }} : {{book.get_pretty_series}}
        </div> <!-- series div -->
        <div class="book_prop col col-sm-3 edition">
          {{ globals.text.edition }} : {{book.get_pretty_edition}}
        </div> <!-- edition -->
      </div>
      <div class="is_available">
        {% if book.is_borrowed == False %}
        <span class="text-success glyphicon glyphicon-ok">  {{ globals.text.available }}</span>
        {% else %}
        <span class="text-danger glyphicon glyphicon-remove"> <a href="{% url 'profile' book.get_borrower%}">{{book.get_borrower.get_name}}</a> लिनु भएको छ  </span>
        {% endif %}
        <br>
        <div class="more_info" align=center>
          <a href="{% url 'book' book.accession_number %}"><u class="text-success">{{ globals.text.more_info}}</u></a>
        </div> <!-- more_info div -->
      </div>

    </a>
  </div>
</tr>
{% endfor %}
</tbody>
</table>
<ul class="pagination">
{% for each in book_pages %}
<li {% if each == books.number %} class="active" {% endif%}><a href="?search={{value}}&type={{type}}&page={{ each }}">{{ each }}</a></li>
{% endfor %}
</ul>
{% endif %}
{% if not_found == None %}
{% elif not_found == True %}
<h4><div class="alert alert-warning">
  The book with <span class="label label-warning">{{ type }}</span> containing <span class="label label-warning">{{ value }}</span> was not found.
        </div></h4>
        {% endif %}
                        </div>

                        {% endblock %}
